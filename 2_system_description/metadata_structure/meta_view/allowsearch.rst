.. role:: raw-html-m2r(raw)
   :format: html


`Оглавление </docs/ru/index.md>`_
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Назад: `Мета представлений - общая часть <meta_view_main.md>`_
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Поиск в списках объектов "allowSearch"
======================================

Поле основной части меты представления списка: ``"allowSearch"`` разрешает или запрещает отображение в форме поля поиска. 

Логика работы
-------------

Архитектурой платформы и регистри накладываются следующие ограничения:  

Для того, чтобы работал поиск в представлении **"СПИСОК"** нужно выполнение одного из условий:


* В ключе класса должны быть поля какого-нибудь из следующих типов: Строка, Дата-Время, Целое, Действительное, Десятичное
* В классе должны быть не ключевые атрибуты этих же типов помеченные как индексируемые 

Если ни одно из условий не соблюдается, поиск в представлении **"СПИСОК"** невозможен - соответсвенно поле для поиска не отображается. Если одно или оба условия выполняются, то поиск доступен и выполняется путем сопоставления каждого индексированного атрибута с поисковой фразой. Если хотя бы один из атрибутов соответствует поисковой фразе - объект считается удовлетворяющим условию поиска и добавляется в выборку.

В зависимости от поля, сопоставление выполняется по следующим правилам:


* Строка - ищется вхождение поисковой фразы в значение строкового атрибута посредством регулярного выражения.
* Дата-время - поисковая фраза приводится к дате-времени, и если получилось это сделать, то проверяется эквивалентность значения атрибута полученной дате. Сравнение строгое - до секунд, т.е. если в поиске не указано время - будут искаться даты с временем 00:00.
* Целое, Действительное, Десятичное число - поисковая фраза приводится к числу и проверяется равенство значению атрибута.

Поиск по объектам вычислимых атрибутов
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Для объектов вычисляемых атрибутов поиск будет работать только в случае наличия ``настройки кеширования`` `подробнее </docs/en/2_system_description/metadata_structure/meta_class/atr_cached_true.md>`_. Соответсвенно, нет необходимости для вычисляемых атрибутов ставить ``indexed`` , если они не ``cached``.  

----

`Licence </LICENSE>`_ &ensp;  `Contact us <https://iondv.com/portal/contacts>`_ &ensp;  `English </docs/en/2_system_description/metadata_structure/meta_view/allowsearch.md>`_   &ensp;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


.. raw:: html

   <div><img src="https://mc.iondv.com/watch/local/docs/framework" style="position:absolute; left:-9999px;" height=1 width=1 alt="iondv metrics"></div>


----

Copyright (c) 2018 **LLC "ION DV"**.\ :raw-html-m2r:`<br>`
All rights reserved. 
