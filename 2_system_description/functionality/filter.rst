.. role:: raw-html-m2r(raw)
   :format: html


`Оглавление </docs/ru/index.md>`_
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Назад: `Функциональность <functionality.md>`_
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Фильтры на форме представления списка
=====================================

.. code-block::

   Если для даты значение в поле фильтра и значение в поле атрибута имеют разный формат, то фильтр по такому полю работать НЕ БУДЕТ

Запрос для фильтра задается выражением (поисковым запросом).

Поддерживает следующие операции:


* группировки скобками
* логических: AND, OR, NOT
* сравнения: =, <, >, <=, >=, <>
* арифметических: +, -, *, /
* строковых: like
* над коллекциями: size

Создание запроса
^^^^^^^^^^^^^^^^

**Выбор атрибута** выполняется из выпадающего списка, с помощью кнопки ``>_``\ , расположенной у основания поля запроса для фильтра. Наименование атрибута оборочивается в *"backticks"* т.е.:

.. code-block::

   `Наименование атрибута` != 2

**Параметры комбинации** значений атрибутов для запроса:


* and - И - т.е. обязательно оба (или больше) значаний,
* or - ИЛИ - т.е. любое из значений оба (или больше) значаний.

пример комбинации:

.. code-block::

   `Атрибут1` = 1 AND `Атрибут2` != 2

**Строковые значения** атрибутов при формировании запроса оборачиваются в *двойные кавычки*\ :

.. code-block::

   `Название поля` != "привет"

**Обращение к атрибутам по ссылке**\ :

.. code-block::

   `Атрибут1`.`Атрибут по ссылке из Атрибут 1` = "значение"

**Подсказки**\ :

В конце поля запроса для фильтра расположен знак ``?``\ , при клике на который откроется модельное окно с описанием принципа работы фильтра и синтаксиса запроса к нему.

Для парсинга поисковых выражений используется библиотека https://nearley.js.org/

Варианты использования
^^^^^^^^^^^^^^^^^^^^^^

Помимо кнопки рядом со строкой поиска в верхней части страницы, фильтр можно вызывать кликом на аналогичного вида значек, расположенный в каждом столбце таблицы. 

Для создания запроса для фильтра необходимо выбрать из выпадающего списка значение, или же начать ввод значения в строку. Как только значение выбрано необходимо нажать клавишу ``Enter`` - в столбце со значениями отобразится результат запроса.

----

`Licence </LICENSE>`_ &ensp;  `Contact us <https://iondv.com/portal/contacts>`_ &ensp;  `English </docs/en/2_system_description/functionality/filter.md>`_   &ensp;
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~


.. raw:: html

   <div><img src="https://mc.iondv.com/watch/local/docs/framework" style="position:absolute; left:-9999px;" height=1 width=1 alt="iondv metrics"></div>


----

Copyright (c) 2018 **LLC "ION DV"**.\ :raw-html-m2r:`<br>`
All rights reserved. 
